export function replyMessageGenerate(replayContent, message) {
    const replayMessage = {};
    const defaultValue = {
        mentions: [],
        attachments: [],
    };
    [
        "clan_id",
        "channel_id",
        "mode",
        "is_public",
        ...Object.keys(defaultValue),
    ].forEach((field) => (replayMessage[field] = fieldGenerate(field, replayContent, message, defaultValue)));
    let messageContent = {
        t: "messageContent" in replayContent ? replayContent["messageContent"] : "",
    };
    // option for bot's message
    ["lk", "hg", "mk", "ej", "vk", "contentThread", "embed", "components"].forEach((key) => {
        if (key in replayContent) {
            messageContent[key] = replayContent[key];
        }
    });
    replayMessage["msg"] = messageContent;
    replayMessage["ref"] = refGenerate(message);
    return replayMessage;
}
export function fieldGenerate(field, replayContent, message, defaultValue) {
    return field in replayContent
        ? replayContent[field]
        : field in defaultValue
            ? defaultValue[field]
            : message[field];
}
export function refGenerate(msg) {
    return [
        {
            message_id: "",
            message_ref_id: msg.message_id,
            ref_type: 0,
            message_sender_id: msg.sender_id,
            message_sender_username: msg.username,
            mesages_sender_avatar: msg.avatar,
            message_sender_clan_nick: msg.clan_nick,
            message_sender_display_name: msg.display_name,
            content: JSON.stringify(msg.content),
            has_attachment: false,
        },
    ];
}
//# sourceMappingURL=generate_reply_message.js.map